"use strict";(self.webpackChunkmiuform=self.webpackChunkmiuform||[]).push([[538],{4538:(P,h,r)=>{r.r(h),r.d(h,{ConfigurationModule:()=>H});var d=r(6895),A=r(9132),t=r(4650),Z=r(3848),u=r(8505),m=r(590),O=r(5577),l=(()=>{return(e=l||(l={}))[e.Create=0]="Create",e[e.Update=1]="Update",e[e.Delete=2]="Delete",l;var e})(),N=r(8897),x=r(1042);class p extends N.j{constructor(){super(...arguments),this.emails=[]}static Create(){let i=new p;return i._id=`factory_${x.Z()}`,i.isActive=!0,i}}var f=r(8920),s=r(5412),I=r(4859),E=r(9549),U=r(4144),g=r(4006),F=r(1576),C=r(4463);function M(e,i){1&e&&(t.TgZ(0,"h1",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CONFIGURATION.FACTORIES.EDITOR.CREATE")))}function y(e,i){1&e&&(t.TgZ(0,"h1",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CONFIGURATION.FACTORIES.EDITOR.UPDATE")))}function b(e,i){1&e&&(t.TgZ(0,"h1",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CONFIGURATION.FACTORIES.EDITOR.REMOVE")))}function _(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.addOrUpdate(a.item))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"COMMON.CREATE")))}function R(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.addOrUpdate(a.item))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"COMMON.UPDATE")))}function L(e,i){1&e&&(t.TgZ(0,"button",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"COMMON.REMOVE")))}let J=(()=>{class e{constructor(o,n,a){this.configurationService=o,this.dialogRef=n,this.data=a,this.EditorActions=l,this.item=a.item}onNoClick(){this.dialogRef.close(!1)}addOrUpdate(o){this.configurationService.addOrUpdateFactory(o).pipe((0,m.P)(),(0,u.b)(n=>this.dialogRef.close(!0))).subscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.eB),t.Y36(s.so),t.Y36(s.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-editor"]],decls:26,vars:21,consts:[["mat-dialog-title","",4,"ngIf"],["mat-dialog-content","","fxLayout","column"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click",4,"ngIf"],["mat-button","","cdkFocusInitial","",4,"ngIf"],["mat-dialog-title",""],["mat-button","","cdkFocusInitial","",3,"click"],["mat-button","","cdkFocusInitial",""]],template:function(o,n){1&o&&(t.YNc(0,M,3,3,"h1",0),t.YNc(1,y,3,3,"h1",0),t.YNc(2,b,3,3,"h1",0),t.TgZ(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",3),t.NdJ("ngModelChange",function(c){return n.item.name=c}),t.qZA()(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",3),t.NdJ("ngModelChange",function(c){return n.item.shortName=c}),t.qZA()(),t.TgZ(14,"mat-form-field",2)(15,"mat-label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"input",3),t.NdJ("ngModelChange",function(c){return n.item.address=c}),t.qZA()()(),t.TgZ(19,"div",4)(20,"button",5),t.NdJ("click",function(){return n.onNoClick()}),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.YNc(23,_,3,3,"button",6),t.YNc(24,R,3,3,"button",6),t.YNc(25,L,3,3,"button",7),t.qZA()),2&o&&(t.Q6J("ngIf",n.data.action===n.EditorActions.Create),t.xp6(1),t.Q6J("ngIf",n.data.action===n.EditorActions.Update),t.xp6(1),t.Q6J("ngIf",n.data.action===n.EditorActions.Delete),t.xp6(4),t.Oqu(t.lcZ(7,13,"ITEM.FACTORY.NAME")),t.xp6(2),t.Q6J("ngModel",n.item.name),t.xp6(3),t.Oqu(t.lcZ(12,15,"ITEM.FACTORY.SHORTNAME")),t.xp6(2),t.Q6J("ngModel",n.item.shortName),t.xp6(3),t.Oqu(t.lcZ(17,17,"ITEM.FACTORY.ADDRESS")),t.xp6(2),t.Q6J("ngModel",n.item.address),t.xp6(3),t.Oqu(t.lcZ(22,19,"COMMON.CANCEL")),t.xp6(2),t.Q6J("ngIf",n.data.action===n.EditorActions.Create),t.xp6(1),t.Q6J("ngIf",n.data.action===n.EditorActions.Update),t.xp6(1),t.Q6J("ngIf",n.data.action===n.EditorActions.Delete))},dependencies:[d.O5,I.lW,s.uh,s.xY,s.H8,E.KE,E.hX,U.Nt,g.Fj,g.JJ,g.On,F.xw,C.X$]}),e})();var k=r(6709),Y=r(7392),v=r(4633);function q(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"mat-list-item",5),t.NdJ("click",function(){const c=t.CHM(o).$implicit,T=t.oxw();return t.KtG(T.updateItem(c._id))}),t.TgZ(1,"span",6),t._uU(2),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA(),t.TgZ(5,"span",7),t._uU(6),t.qZA(),t.TgZ(7,"span",8),t.NdJ("click",function(){const c=t.CHM(o).$implicit,T=t.oxw();return t.KtG(T.deleteItem(c._id))}),t.qZA()()}if(2&e){const o=i.$implicit;t.xp6(2),t.AsE("",o.shortName," -> ",o.name,""),t.xp6(2),t.Oqu(o.address),t.xp6(2),t.Oqu(o.emails?o.emails.join(", "):"")}}let D=(()=>{class e{constructor(o,n,a){this.logger=o,this.configurationService=n,this.dialog=a,this.loadFactoryWithNoActive=!1,this.items=[]}ngOnInit(){this.reloadFactories(this.loadFactoryWithNoActive)}reloadFactories(o){this.configurationService.getFactories(o).pipe((0,u.b)(n=>this.items=n),(0,m.P)()).subscribe()}displayEditor(o,n){return this.dialog.open(J,{width:"90%",data:{item:o,action:n}}).afterClosed().pipe((0,m.P)(),(0,u.b)(a=>this.logger.debug(`The dialog was closed with result ${a}, action ${n}`)),(0,u.b)(a=>{!0===a&&this.reloadFactories(this.loadFactoryWithNoActive)}))}addItem(){this.displayEditor(p.Create(),l.Create).subscribe({next:o=>{},error:o=>{}})}updateItem(o){this.configurationService.getFactory(o).pipe((0,m.P)(),(0,O.z)(a=>this.displayEditor(a,l.Update))).subscribe({next:a=>{},error:a=>{}})}deleteItem(o){this.configurationService.getFactory(o).pipe((0,m.P)(),(0,O.z)(a=>this.displayEditor(a,l.Delete))).subscribe({next:a=>{},error:a=>{}})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(f.Yd),t.Y36(f.eB),t.Y36(s.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-factories"]],decls:10,vars:5,consts:[["fxLayout","column"],["fxLayout","row"],[3,"checked","change"],[3,"click",4,"ngFor","ngForOf"],["mat-fab","","color","primary",1,"mat-fab-bottom-right",3,"click"],[3,"click"],["matListItemTitle",""],["matListItemLine",""],["matListItemMeta","",1,"delete-icon",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-checkbox",2),t.NdJ("change",function(c){return n.reloadFactories(c.checked)}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"mat-list"),t.YNc(6,q,8,4,"mat-list-item",3),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return n.addItem()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("checked",n.loadFactoryWithNoActive),t.xp6(1),t.hij(" ",t.lcZ(4,3,"CONFIGURATION.FACTORIES.LOAD_NOACTIVE")," "),t.xp6(3),t.Q6J("ngForOf",n.items))},dependencies:[d.sg,I.lW,k.oG,Y.Hw,v.i$,v.Tg,F.xw,C.X$]}),e})(),S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-checklist"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"checklist works!"),t.qZA())}}),e})(),G=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-delivery"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"delivery works!"),t.qZA())}}),e})();const Q=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-configuration"]],decls:13,vars:12,consts:[[3,"label"]],template:function(o,n){1&o&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"mat-tab-group")(4,"mat-tab",0),t.ALo(5,"translate"),t._UZ(6,"app-factories"),t.qZA(),t.TgZ(7,"mat-tab",0),t.ALo(8,"translate"),t._UZ(9,"app-checklist"),t.qZA(),t.TgZ(10,"mat-tab",0),t.ALo(11,"translate"),t._UZ(12,"app-delivery"),t.qZA()()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,4,"CONFIGURATION.TITLE")),t.xp6(3),t.s9C("label",t.lcZ(5,6,"CONFIGURATION.FACTORIES.TITLE")),t.xp6(3),t.s9C("label",t.lcZ(8,8,"CONFIGURATION.CHECKLIST.TITLE")),t.xp6(3),t.s9C("label",t.lcZ(11,10,"CONFIGURATION.DELIVERY.TITLE")))},dependencies:[Z.SP,Z.uX,D,S,G,C.X$]}),e})()}];let X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[A.Bz.forChild(Q),A.Bz]}),e})();var $=r(2796);let H=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,X,$.m]}),e})()}}]);